<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>LiDAR Field Guide â€” BLK360</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Barlow+Condensed:wght@300;500;700;900&family=Barlow:wght@400;500&display=swap" rel="stylesheet">
<style>
/*
 â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 â•‘  NEUROSCIENCE-BASED DARK THEME                               â•‘
 â•‘                                                              â•‘
 â•‘  Principles applied:                                         â•‘
 â•‘  1. BACKGROUND: #0f0f11 (not pure black) â€” avoids halation   â•‘
 â•‘     (the "glowing halo" blur true-black causes on LCD/OLED)  â•‘
 â•‘     that fatigues the visual cortex.                         â•‘
 â•‘                                                              â•‘
 â•‘  2. BODY TEXT: #d4d0c8 (warm off-white ~92% luminance)       â•‘
 â•‘     Pure white (#fff) on dark = ~21:1 contrast ratio,        â•‘
 â•‘     which is TOO high and causes Mach band fatigue.          â•‘
 â•‘     ~12:1 is optimal for sustained reading.                  â•‘
 â•‘                                                              â•‘
 â•‘  3. HIERARCHY by opacity/weight, not color variety:          â•‘
 â•‘     Primary: #d4d0c8 Â· Secondary: #8a8680 Â· Tertiary: #5a5754â•‘
 â•‘     The brain reads luminance hierarchy before color.        â•‘
 â•‘                                                              â•‘
 â•‘  4. ACCENT: #4fc3f7 (sky blue) â€” blue-channel stimulation    â•‘
 â•‘     activates superior colliculus salience without           â•‘
 â•‘     triggering the warm-color stress response.               â•‘
 â•‘                                                              â•‘
 â•‘  5. WARNING: #e8a02a (desaturated amber) â€” saturated yellow  â•‘
 â•‘     (#ffff00) overshoots the amygdala threat response.       â•‘
 â•‘     Desaturated amber is visible, not alarming.              â•‘
 â•‘                                                              â•‘
 â•‘  6. DANGER: #e05c5c (desaturated red) â€” pure red (#f00)      â•‘
 â•‘     triggers a startle response via the superior             â•‘
 â•‘     colliculus. Muted red conveys urgency without panic.     â•‘
 â•‘                                                              â•‘
 â•‘  7. COMPLETE: #4aba7f (muted green) â€” the brain parses       â•‘
 â•‘     cool green as "resolved/safe" vs. warm green (lime)      â•‘
 â•‘     which reads as active/action required.                   â•‘
 â•‘                                                              â•‘
 â•‘  8. CARDS: 3â€“5% white transparency on near-black creates     â•‘
 â•‘     perceptible depth via Weber's Law without color noise.   â•‘
 â•‘                                                              â•‘
 â•‘  9. BORDER contrast: ~8% white â€” just above discrimination   â•‘
 â•‘     threshold, keeps chrome from competing with content.     â•‘
 â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
*/

:root {
  /* â”€â”€ Surfaces â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  --bg:          #0f0f11;   /* near-black, prevents halation */
  --bg-raise:    #161618;   /* +1 elevation */
  --bg-card:     #1c1c1f;   /* card surface */
  --bg-card-2:   #222226;   /* hover / expanded */
  --bg-input:    #141416;   /* text inputs */

  /* â”€â”€ Text hierarchy â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  --text-1:      #d4d0c8;   /* primary â€” warm off-white, ~12:1 ratio */
  --text-2:      #8a8680;   /* secondary labels */
  --text-3:      #5a5754;   /* tertiary / disabled */

  /* â”€â”€ Accents â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  --blue:        #4fc3f7;   /* primary interactive / active */
  --blue-dim:    #1a4d65;   /* blue bg tint */
  --blue-glow:   rgba(79,195,247,0.12);

  --amber:       #e8a02a;   /* warning */
  --amber-dim:   #3a2800;
  --amber-text:  #f5c860;   /* readable amber on dark */

  --red:         #e05c5c;   /* danger */
  --red-dim:     #3a1414;
  --red-text:    #f08080;   /* readable red on dark */

  --green:       #4aba7f;   /* complete */
  --green-dim:   #0e2e1e;
  --green-text:  #6dd09a;   /* readable green on dark */

  /* â”€â”€ Borders â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  --border:      rgba(255,255,255,0.07);
  --border-md:   rgba(255,255,255,0.12);
  --border-blue: rgba(79,195,247,0.25);
  --border-amber:rgba(232,160,42,0.35);
  --border-red:  rgba(224,92,92,0.35);
  --border-green:rgba(74,186,127,0.35);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  background: var(--bg);
  color: var(--text-1);
  font-family: 'Barlow', sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
  /* Slight letter-spacing improves reading on dark bg (Legge & Bigelow 2011) */
  letter-spacing: 0.01em;
}

/* â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
header {
  background: var(--bg-raise);
  border-bottom: 1px solid var(--border-md);
  /* Subtle top accent line instead of thick lime stripe */
  box-shadow: 0 1px 0 var(--blue), 0 2px 16px rgba(0,0,0,0.5);
  padding: 14px 20px;
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo-block {
  display: flex;
  align-items: center;
  gap: 12px;
}

.scanner-icon {
  width: 38px;
  height: 38px;
  border: 1.5px solid var(--blue);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  animation: pulse-ring 2.5s ease-in-out infinite;
  background: var(--blue-dim);
}

.scanner-icon::after {
  content: '';
  position: absolute;
  width: 9px;
  height: 9px;
  background: var(--blue);
  border-radius: 50%;
  animation: blink 1.5s ease-in-out infinite;
}

@keyframes pulse-ring {
  0%, 100% { box-shadow: 0 0 0 0 rgba(79,195,247,0.3); }
  50%       { box-shadow: 0 0 0 7px rgba(79,195,247,0); }
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.25; }
}

.logo-text h1 {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 900;
  font-size: 1.25rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text-1);
  line-height: 1;
}

.logo-text span {
  font-family: 'Space Mono', monospace;
  font-size: 0.62rem;
  color: var(--blue);
  letter-spacing: 1px;
}

.phase-indicator {
  font-family: 'Space Mono', monospace;
  font-size: 0.68rem;
  color: var(--text-2);
  text-align: right;
}

/* â•â• PROGRESS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.progress-container {
  background: var(--bg-raise);
  padding: 10px 20px;
  border-bottom: 1px solid var(--border);
}

.progress-label {
  display: flex;
  justify-content: space-between;
  font-family: 'Space Mono', monospace;
  font-size: 0.62rem;
  color: var(--text-2);
  margin-bottom: 7px;
  letter-spacing: 0.05em;
}

.progress-bar {
  height: 4px;
  background: rgba(255,255,255,0.06);
  border-radius: 2px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--blue-dim), var(--blue));
  border-radius: 2px;
  transition: width 0.4s ease;
}

/* â•â• PHASE NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.phase-nav {
  display: flex;
  overflow-x: auto;
  gap: 0;
  background: var(--bg-raise);
  border-bottom: 1px solid var(--border);
  scrollbar-width: none;
}

.phase-nav::-webkit-scrollbar { display: none; }

.phase-btn {
  flex: 0 0 auto;
  padding: 11px 18px;
  border: none;
  background: transparent;
  color: var(--text-3);
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 0.78rem;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
  white-space: nowrap;
}

.phase-btn:hover {
  color: var(--text-2);
  background: rgba(255,255,255,0.03);
}

.phase-btn.active {
  color: var(--blue);
  border-bottom-color: var(--blue);
  background: var(--blue-glow);
}

.phase-btn.completed {
  color: var(--green);
}

.phase-btn .phase-num {
  font-family: 'Space Mono', monospace;
  font-size: 0.58rem;
  display: block;
  opacity: 0.6;
  margin-bottom: 1px;
}

/* â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.main {
  padding: 18px 20px;
  max-width: 800px;
  margin: 0 auto;
}

.phase-header {
  margin-bottom: 16px;
  padding: 18px 20px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-left: 3px solid var(--blue);
  border-radius: 0 8px 8px 0;
}

.phase-tag {
  font-family: 'Space Mono', monospace;
  font-size: 0.62rem;
  color: var(--blue);
  letter-spacing: 2px;
  text-transform: uppercase;
  margin-bottom: 5px;
}

.phase-title {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 900;
  font-size: 1.9rem;
  letter-spacing: 1px;
  text-transform: uppercase;
  /* Warm off-white for large display text â€” easier to read than pure white */
  color: #e8e4dc;
  line-height: 1;
}

.phase-desc {
  margin-top: 8px;
  font-size: 0.88rem;
  color: var(--text-2);
  line-height: 1.6;
}

/* â•â• STEP CARDS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.step-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  margin-bottom: 8px;
  overflow: hidden;
  transition: border-color 0.2s, background 0.2s;
}

.step-card:hover {
  border-color: var(--border-md);
}

.step-card.completed {
  background: var(--green-dim);
  border-color: var(--border-green);
}

.step-card.warning {
  border-color: var(--border-amber);
  background: var(--amber-dim);
}

.step-card.danger {
  border-color: var(--border-red);
  background: var(--red-dim);
}

.step-header {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  padding: 14px 16px;
  cursor: pointer;
  user-select: none;
}

.step-checkbox {
  width: 24px;
  height: 24px;
  border: 1.5px solid var(--border-md);
  border-radius: 5px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  margin-top: 2px;
}

.step-card.completed .step-checkbox {
  background: var(--green);
  border-color: var(--green);
}

.step-card.warning .step-checkbox {
  border-color: var(--amber);
}

.step-card.danger .step-checkbox {
  border-color: var(--red);
}

.checkmark {
  display: none;
  /* Dark check on green = high contrast, easy scan */
  color: #0a1f12;
  font-size: 13px;
  font-weight: bold;
}

.step-card.completed .checkmark { display: block; }

.step-num {
  font-family: 'Space Mono', monospace;
  font-size: 0.58rem;
  color: var(--text-3);
  flex-shrink: 0;
  margin-top: 5px;
  min-width: 22px;
}

.step-content { flex: 1; }

.step-title {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 1rem;
  letter-spacing: 0.4px;
  color: var(--text-1);
  line-height: 1.3;
}

.step-card.completed .step-title {
  color: var(--green-text);
}

.step-body {
  font-size: 0.85rem;
  color: var(--text-2);
  line-height: 1.55;
  margin-top: 3px;
}

.step-detail {
  padding: 0 16px 14px 54px;
  display: none;
  border-top: 1px solid var(--border);
  margin-top: 2px;
  padding-top: 12px;
}

.step-detail.open { display: block; }

/* â•â• LISTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.sub-list { list-style: none; padding: 0; }

.sub-list li {
  padding: 6px 0 6px 14px;
  border-left: 2px solid rgba(79,195,247,0.2);
  margin-bottom: 4px;
  font-size: 0.84rem;
  /* Warm off-white for list body â€” prevents all text bleeding together */
  color: var(--text-1);
  line-height: 1.5;
}

.sub-list li strong {
  color: var(--blue);
  font-weight: 600;
}

/* â•â• BADGES â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 20px;
  font-family: 'Space Mono', monospace;
  font-size: 0.58rem;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-weight: 700;
  margin-left: 8px;
  vertical-align: middle;
}

/* Desaturated badge colors â€” readable but not jarring */
.badge-warning  { background: rgba(232,160,42,0.15); color: var(--amber-text); border: 1px solid var(--border-amber); }
.badge-danger   { background: rgba(224,92,92,0.15);  color: var(--red-text);   border: 1px solid var(--border-red); }
.badge-info     { background: rgba(79,195,247,0.1);  color: var(--blue);       border: 1px solid var(--border-blue); }
.badge-critical { background: rgba(224,92,92,0.2);   color: var(--red-text);   border: 1px solid var(--red); }

/* â•â• GEAR GRID â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.gear-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
  margin-top: 6px;
}

.gear-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  background: rgba(255,255,255,0.03);
  border-radius: 6px;
  border: 1px solid var(--border);
  cursor: pointer;
  transition: all 0.18s;
  font-size: 0.82rem;
  color: var(--text-2);
}

.gear-item:hover {
  background: rgba(255,255,255,0.055);
  border-color: var(--border-md);
  color: var(--text-1);
}

.gear-item.checked {
  background: var(--green-dim);
  border-color: var(--border-green);
  color: var(--green-text);
}

.gear-check {
  width: 17px;
  height: 17px;
  border: 1.5px solid var(--border-md);
  border-radius: 4px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  transition: all 0.18s;
}

.gear-item.checked .gear-check {
  background: var(--green);
  border-color: var(--green);
  color: #0a1f12;
  font-weight: bold;
}

/* â•â• STATUS DOTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.status-row {
  display: flex;
  gap: 20px;
  margin-top: 10px;
  flex-wrap: wrap;
}

.status-item {
  display: flex;
  align-items: center;
  gap: 7px;
  font-size: 0.79rem;
  font-family: 'Space Mono', monospace;
  color: var(--text-2);
}

.status-dot {
  width: 9px;
  height: 9px;
  border-radius: 50%;
}

.dot-yellow { background: var(--amber); animation: blink 1s infinite; }
.dot-green  { background: var(--green); }
.dot-red    { background: var(--red); }

/* â•â• TIMER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.timer-block {
  background: rgba(0,0,0,0.35);
  border: 1px solid var(--border-amber);
  border-radius: 8px;
  padding: 14px 16px;
  margin-top: 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.timer-display {
  font-family: 'Space Mono', monospace;
  font-size: 2rem;
  color: var(--amber-text);
  letter-spacing: 4px;
}

.timer-label {
  font-family: 'Space Mono', monospace;
  font-size: 0.58rem;
  color: var(--amber);
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-top: 3px;
}

.timer-buttons { display: flex; gap: 8px; }

.btn {
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 0.84rem;
  letter-spacing: 1px;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.15s;
}

/* Dark text on colored button = best legibility (WCAG AAA) */
.btn-start { background: var(--blue); color: #071520; }
.btn-start:hover { background: #7cd4f8; }
.btn-reset { background: rgba(255,255,255,0.07); color: var(--text-2); border: 1px solid var(--border); }
.btn-reset:hover { background: rgba(255,255,255,0.12); color: var(--text-1); }

/* â•â• NAV FOOTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.nav-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--bg-raise);
  border-top: 1px solid var(--border-md);
  box-shadow: 0 -1px 0 var(--border), 0 -8px 24px rgba(0,0,0,0.5);
  padding: 10px 20px;
  display: flex;
  gap: 10px;
  z-index: 100;
}

.nav-btn {
  flex: 1;
  padding: 11px;
  border: none;
  border-radius: 7px;
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 0.95rem;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.18s;
}

.nav-prev {
  background: rgba(255,255,255,0.05);
  color: var(--text-2);
  border: 1px solid var(--border-md);
}

.nav-prev:hover { background: rgba(255,255,255,0.09); color: var(--text-1); }

.nav-next {
  background: var(--blue);
  color: #061520;
}

.nav-next:hover { background: #7cd4f8; }
.nav-btn:disabled { opacity: 0.25; cursor: not-allowed; }

/* â•â• NOTES â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.notes-box {
  margin-top: 8px;
  width: 100%;
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text-1);
  font-family: 'Space Mono', monospace;
  font-size: 0.78rem;
  padding: 10px 12px;
  resize: vertical;
  min-height: 68px;
  line-height: 1.6;
  transition: border-color 0.2s;
}

.notes-box::placeholder { color: var(--text-3); }

.notes-box:focus {
  outline: none;
  border-color: rgba(79,195,247,0.4);
  box-shadow: 0 0 0 3px rgba(79,195,247,0.06);
}

/* â•â• DIVIDERS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.section-divider {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 14px 0 10px;
}

.section-divider span {
  font-family: 'Space Mono', monospace;
  font-size: 0.62rem;
  color: var(--text-3);
  letter-spacing: 2px;
  text-transform: uppercase;
  white-space: nowrap;
}

.divider-line {
  flex: 1;
  height: 1px;
  background: var(--border);
}

.spacer { height: 90px; }

/* â•â• COMPLETION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.completion { display: none; text-align: center; padding: 40px 20px; }
.completion.show { display: block; }

.completion-icon {
  font-size: 4rem;
  margin-bottom: 16px;
  animation: pop 0.5s cubic-bezier(0.68,-0.55,0.265,1.55);
}

@keyframes pop {
  0%   { transform: scale(0); }
  100% { transform: scale(1); }
}

.reset-btn {
  margin-top: 20px;
  padding: 12px 24px;
  background: var(--blue);
  color: #061520;
  border: none;
  border-radius: 8px;
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 700;
  font-size: 1rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  cursor: pointer;
}

/* â•â• INLINE HIGHLIGHTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
/*
  Strong tags in sub-lists override to blue by default,
  but warning/danger cards need their own tint so the
  eye doesn't lose the semantic cue.
*/
.step-card.warning .sub-list li strong { color: var(--amber-text); }
.step-card.danger  .sub-list li strong { color: var(--red-text); }

/* Inline code-style text (like device IDs) */
strong[style*="Space Mono"],
.mono { font-family: 'Space Mono', monospace; }

/* â•â• RESPONSIVE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (max-width: 480px) {
  .gear-grid { grid-template-columns: 1fr; }
  .timer-display { font-size: 1.5rem; }
  .phase-title { font-size: 1.6rem; }
}

/* â•â• SCROLLBAR (Chromium) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }
</style>
</head>
<body>

<header>
  <div class="logo-block">
    <div class="scanner-icon"><span class="checkmark" style="display:block; color:var(--blue); font-size:11px;">â¬¤</span></div>
    <div class="logo-text">
      <h1>LiDAR Field Guide</h1>
      <span>Leica BLK360 Â· TLS Protocol</span>
    </div>
  </div>
  <div class="phase-indicator" id="headerPhase">Phase 1 of 4</div>
</header>

<div class="progress-container">
  <div class="progress-label">
    <span>Overall Progress</span>
    <span id="progressPct">0%</span>
  </div>
  <div class="progress-bar">
    <div class="progress-fill" id="progressFill" style="width:0%"></div>
  </div>
</div>

<nav class="phase-nav" id="phaseNav">
  <button class="phase-btn active" onclick="goToPhase(0)">
    <span class="phase-num">01</span>Pre-Work
  </button>
  <button class="phase-btn" onclick="goToPhase(1)">
    <span class="phase-num">02</span>Laser Scan
  </button>
  <button class="phase-btn" onclick="goToPhase(2)">
    <span class="phase-num">03</span>Crosshair Plot
  </button>
  <button class="phase-btn" onclick="goToPhase(3)">
    <span class="phase-num">04</span>Office Data Transfer
  </button>
</nav>

<div class="main">

  <!-- â•â•â•â•â•â•â•â•â•â• PHASE 0: PRE-WORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase-content" id="phase-0">
    <div class="phase-header">
      <div class="phase-tag">Phase 01 Â· Pre-Departure</div>
      <div class="phase-title">Pre-Work</div>
      <div class="phase-desc">Complete all gear checks and site prep before leaving the office.</div>
    </div>

    <div class="step-card" id="s0-0">
      <div class="step-header" onclick="toggleDetail('d0-0'); toggleCheck('s0-0')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">01</div>
        <div class="step-content">
          <div class="step-title">Identify Sites &amp; Clarify Plot Numbers</div>
          <div class="step-body">Confirm all site locations and plot numbers before departure.</div>
        </div>
      </div>
      <div class="step-detail" id="d0-0">
        <textarea class="notes-box" placeholder="Plot numbers / site notes..."></textarea>
      </div>
    </div>

    <div class="step-card" id="s0-1">
      <div class="step-header" onclick="toggleDetail('d0-1'); toggleCheck('s0-1')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">02</div>
        <div class="step-content">
          <div class="step-title">Check the Bag â€” Full Gear Inventory</div>
          <div class="step-body">Tap each item to confirm it's packed.</div>
        </div>
      </div>
      <div class="step-detail" id="d0-1">
        <div class="gear-grid">
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Laser (Pelican case)</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Extra Batteries</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Tripod w/ adapter</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>N Point Placard + stand</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>2Ã— 50m Tapes</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Prism</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Clipboard</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Data Sheets (+ extras)</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Pencils</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Sampling Pole</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Go/No Go (fuel)</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>GPS Device / Avenza</div>
          <div class="gear-item" onclick="toggleGear(this)"><div class="gear-check"></div>Compass Device</div>
        </div>
        <p style="font-size:0.74rem; color:var(--text-3); margin-top:10px; font-family:'Space Mono',monospace;">Verify Avenza license is current before leaving office.</p>
      </div>
    </div>

    <div class="step-card" id="s0-2">
      <div class="step-header" onclick="toggleCheck('s0-2')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">03</div>
        <div class="step-content">
          <div class="step-title">Travel Safely to Site ğŸš—</div>
          <div class="step-body">Drive carefully â€” all gear is loaded and confirmed.</div>
        </div>
      </div>
    </div>
  </div><!-- /phase-0 -->


  <!-- â•â•â•â•â•â•â•â•â•â• PHASE 1: LASER SCAN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase-content" id="phase-1" style="display:none">
    <div class="phase-header">
      <div class="phase-tag">Phase 02 Â· Field Work</div>
      <div class="phase-title">Laser Scan</div>
      <div class="phase-desc">Navigate to each plot, evaluate the point, set up, and run the BLK360 scan.</div>
    </div>

    <div class="step-card" id="s1-0">
      <div class="step-header" onclick="toggleCheck('s1-0')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">01</div>
        <div class="step-content">
          <div class="step-title">Navigate Directly to the Point</div>
          <div class="step-body">Use GPS/Avenza to locate the plot center.</div>
        </div>
      </div>
    </div>

    <div class="step-card warning" id="s1-1">
      <div class="step-header" onclick="toggleDetail('d1-1'); toggleCheck('s1-1')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">02</div>
        <div class="step-content">
          <div class="step-title">Evaluate the Point <span class="badge badge-warning">Safety Check</span></div>
          <div class="step-body">Check 15m buffer for hazards before proceeding.</div>
        </div>
      </div>
      <div class="step-detail" id="d1-1">
        <ul class="sub-list">
          <li>Check for: camp sites, trough/stock tanks, roads within 15m buffer</li>
          <li>Check for: cliffs, snags, or any safety concerns</li>
          <li>If major obstruction â†’ <strong>Discard point</strong>, note on sheet why it's invalid</li>
          <li>Minor adjustments of â‰¤3 feet are allowable</li>
        </ul>
        <textarea class="notes-box" placeholder="Point evaluation notes..."></textarea>
      </div>
    </div>

    <div class="step-card" id="s1-2">
      <div class="step-header" onclick="toggleDetail('d1-2'); toggleCheck('s1-2')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">03â€“05</div>
        <div class="step-content">
          <div class="step-title">Stand at Center &amp; Apply Rule of Fist</div>
          <div class="step-body">Extend arm straight out â€” fist width defines your clear zone.</div>
        </div>
      </div>
      <div class="step-detail" id="d1-2">
        <ul class="sub-list">
          <li>Stand at center of transect/plot, arm straight out, hand in a fist</li>
          <li><strong>Rule of Fist (RoF):</strong> If a tree is wider than your fist at arm's length, adjust center â‰¤3 feet so tree fits within fist width</li>
          <li>No hanging branches within Â½m of laser â€” these will be cropped out</li>
          <li>Use prism to identify in/out trees. Trees overlapping within prism = IN</li>
        </ul>
      </div>
    </div>

    <div class="step-card" id="s1-3">
      <div class="step-header" onclick="toggleDetail('d1-3'); toggleCheck('s1-3')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">06â€“07</div>
        <div class="step-content">
          <div class="step-title">Setup the Laser</div>
          <div class="step-body">Mount, level, orient, and power on the BLK360.</div>
        </div>
      </div>
      <div class="step-detail" id="d1-3">
        <ul class="sub-list">
          <li>Attach laser to tripod and insert battery</li>
          <li>Level the laser â€” does not need to be perfect, but mostly level</li>
          <li>Place <strong>N Placard exactly 12m north</strong> of laser â€” use compass, accuracy is important!</li>
          <li>Turn on laser â€” it will flash <strong style="color:var(--amber-text);">yellow</strong> while firing up</li>
        </ul>
        <div class="status-row">
          <div class="status-item"><div class="status-dot dot-yellow"></div> Firing up / scanning</div>
          <div class="status-item"><div class="status-dot dot-green"></div> Ready / complete</div>
        </div>
      </div>
    </div>

    <div class="step-card" id="s1-4">
      <div class="step-header" onclick="toggleDetail('d1-4'); toggleCheck('s1-4')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">08</div>
        <div class="step-content">
          <div class="step-title">Fill Out Data Sheet Top</div>
          <div class="step-body">Complete all fields except scan start time. Use GPS location directly under laser.</div>
        </div>
      </div>
      <div class="step-detail" id="d1-4">
        <textarea class="notes-box" placeholder="GPS coordinate, plot info..."></textarea>
      </div>
    </div>

    <div class="step-card" id="s1-5">
      <div class="step-header" onclick="toggleCheck('s1-5')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">09</div>
        <div class="step-content">
          <div class="step-title">Send Partner â‰¥20m from Laser</div>
          <div class="step-body">Partner must have clear view of laser and will act as the timer.</div>
        </div>
      </div>
    </div>

    <div class="step-card danger" id="s1-6">
      <div class="step-header" onclick="toggleDetail('d1-6'); toggleCheck('s1-6')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">10â€“11</div>
        <div class="step-content">
          <div class="step-title">Escape Route &amp; Press Start <span class="badge badge-danger">Critical</span></div>
          <div class="step-body">Have escape plan ready BEFORE pressing power button.</div>
        </div>
      </div>
      <div class="step-detail" id="d1-6">
        <ul class="sub-list">
          <li>Option A: Move â‰¥20m away from laser before scan</li>
          <li>Option B: Hide behind closest tree you can fit entirely behind (with buffer)</li>
          <li><strong>Once you press start â€” GET OUT OF THE WAY immediately!</strong></li>
        </ul>
      </div>
    </div>

    <div class="step-card" id="s1-7">
      <div class="step-header" onclick="toggleDetail('d1-7'); toggleCheck('s1-7')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">12â€“14</div>
        <div class="step-content">
          <div class="step-title">Time the Scan Cycle</div>
          <div class="step-body">Partner records start time. Scan should run ~2.5 minutes minimum.</div>
        </div>
      </div>
      <div class="step-detail" id="d1-7">
        <div class="timer-block">
          <div>
            <div class="timer-display" id="timerDisplay">00:00</div>
            <div class="timer-label">Scan Timer</div>
          </div>
          <div class="timer-buttons">
            <button class="btn btn-start" id="timerBtn" onclick="startTimer()">Start</button>
            <button class="btn btn-reset" onclick="resetTimer()">Reset</button>
          </div>
        </div>
        <ul class="sub-list" style="margin-top:10px;">
          <li>During cycle: laser rotates &amp; flashes <strong style="color:var(--amber-text);">yellow</strong></li>
          <li>Complete: light turns <strong style="color:var(--green-text);">green</strong> and rotation stops</li>
          <li>If stops before 2.5 min â†’ likely failed â€” see troubleshooting below</li>
        </ul>
        <div class="section-divider"><span>Troubleshooting</span><div class="divider-line"></div></div>
        <ul class="sub-list">
          <li>Replace batteries and retry</li>
          <li>Check lens and mirror for dust</li>
          <li><strong style="color:var(--red-text);">Use ONLY the microfiber cloth in the case to clean â€” nothing else!</strong></li>
        </ul>
        <textarea class="notes-box" style="margin-top:8px;" placeholder="Start time / scan notes..."></textarea>
      </div>
    </div>

    <div class="step-card" id="s1-8">
      <div class="step-header" onclick="toggleCheck('s1-8')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">15</div>
        <div class="step-content">
          <div class="step-title">Pack Up the Laser</div>
          <div class="step-body">Carefully pack scanner back in Pelican case â€” <strong style="color:var(--blue);">remove the battery!</strong></div>
        </div>
      </div>
    </div>
  </div><!-- /phase-1 -->


  <!-- â•â•â•â•â•â•â•â•â•â• PHASE 2: CROSSHAIR PLOT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase-content" id="phase-2" style="display:none">
    <div class="phase-header">
      <div class="phase-tag">Phase 03 Â· Field Work</div>
      <div class="phase-title">Crosshair Plot</div>
      <div class="phase-desc">Run tape transects and collect fuel/vegetation sampling data at the plot.</div>
    </div>

    <div class="step-card" id="s2-0">
      <div class="step-header" onclick="toggleDetail('d2-0'); toggleCheck('s2-0')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">01â€“02</div>
        <div class="step-content">
          <div class="step-title">Run Tape Crosshair (Nâ€“S &amp; Eâ€“W)</div>
          <div class="step-body">Laser location = center. Tapes extend 20m total on each axis.</div>
        </div>
      </div>
      <div class="step-detail" id="d2-0">
        <ul class="sub-list">
          <li>Nâ€“S Tape: Run 10m north from center (10m mark at center), then additional 10m south (out to 20m)</li>
          <li>Eâ€“W Tape: Cross the Nâ€“S tape, run 10m west, pin at 10m center mark, then 10m east (out to 20m)</li>
        </ul>
      </div>
    </div>

    <div class="step-card" id="s2-1">
      <div class="step-header" onclick="toggleCheck('s2-1')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">03</div>
        <div class="step-content">
          <div class="step-title">Count Deciduous &amp; Evergreen Trees with Prism</div>
          <div class="step-body">Get tree counts from center â€” document on data sheet.</div>
        </div>
      </div>
    </div>

    <div class="step-card" id="s2-2">
      <div class="step-header" onclick="toggleDetail('d2-2'); toggleCheck('s2-2')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">04â€“05</div>
        <div class="step-content">
          <div class="step-title">Nâ€“S Transect Sampling (0.5m N â†’ S end)</div>
          <div class="step-body">Place sampling pole every 1m. Tally all contacts canopy to soil.</div>
        </div>
      </div>
      <div class="step-detail" id="d2-2">
        <ul class="sub-list">
          <li>Start at <strong>0.5m N</strong>, sample at every 1m point on the Â½m mark</li>
          <li>Document EVERYTHING that contacts the pole â€” canopy to soil</li>
          <li>Each item that touches = 1 tally (even if multiple contacts = still 1 tally per item per point)</li>
          <li><strong>Target woody species</strong> (Manzanita, Mesquite, Juniper): get WOODY tally + species-specific tally</li>
          <li>All other species: WOODY tally only</li>
        </ul>
        <div class="section-divider"><span>Ground Cover Rules</span><div class="divider-line"></div></div>
        <ul class="sub-list">
          <li><strong>Bare Ground:</strong> Area must be larger than your footprint to break fuel continuity; otherwise use Litter</li>
          <li><strong>Rock:</strong> Must be larger than your fist. Smaller rocks with lots present = bare ground or litter</li>
        </ul>
        <div class="section-divider"><span>Recorder Responsibilities</span><div class="divider-line"></div></div>
        <ul class="sub-list">
          <li>Track 1hr, 10hr, 100hr, and 1000hr FUELS across entire duration of plot lines</li>
          <li>At 4.5m and 14.5m intersections (both axes): record fuelbed depth, litter depth, duff depth</li>
          <li>Fuelbed depth â‰¥ litter depth always. If tiny litter amount â†’ record 0.1cm (trace)</li>
        </ul>
      </div>
    </div>

    <div class="step-card" id="s2-3">
      <div class="step-header" onclick="toggleCheck('s2-3')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">06</div>
        <div class="step-content">
          <div class="step-title">Move to Wâ€“E Axis &amp; Repeat Sampling</div>
          <div class="step-body">Start at 0.5m W end, repeat steps 5â€“9 along the Wâ€“E transect.</div>
        </div>
      </div>
    </div>

    <div class="step-card" id="s2-4">
      <div class="step-header" onclick="toggleCheck('s2-4')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">07</div>
        <div class="step-content">
          <div class="step-title">Pack Up â€” Collect All Tapes &amp; N Arrow Sign</div>
          <div class="step-body">Store data sheet safely. Collect all equipment. Head to next plot!</div>
        </div>
      </div>
    </div>
  </div><!-- /phase-2 -->


  <!-- â•â•â•â•â•â•â•â•â•â• PHASE 3: OFFICE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase-content" id="phase-3" style="display:none">
    <div class="phase-header">
      <div class="phase-tag">Phase 04 Â· Office</div>
      <div class="phase-title">Data Transfer</div>
      <div class="phase-desc">Back at the office â€” transfer, process, and publish all BLK360 scan data using Cyclone REGISTER 360.</div>
    </div>

    <div class="step-card" id="s3-0">
      <div class="step-header" onclick="toggleDetail('d3-0'); toggleCheck('s3-0')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">01â€“05</div>
        <div class="step-content">
          <div class="step-title">Power Up &amp; Connect Laser via Wi-Fi</div>
          <div class="step-body">Connect to BLK360-3507369 and open BLK Data Manager.</div>
        </div>
      </div>
      <div class="step-detail" id="d3-0">
        <ul class="sub-list">
          <li>Fire up the laptop in Whitney's office</li>
          <li>Put battery into laser and turn it on â€” put day's battery on charger</li>
          <li>Open <strong>BLK Data Manager</strong> on laptop</li>
          <li>Network settings â†’ connect to laser as Wi-Fi: <strong style="color:var(--blue); font-family:'Space Mono',monospace;">BLK360-3507369</strong></li>
          <li>In BLK Data Manager â†’ connect to <strong style="color:var(--blue); font-family:'Space Mono',monospace;">BLK360-3507369</strong></li>
        </ul>
      </div>
    </div>

    <div class="step-card" id="s3-1">
      <div class="step-header" onclick="toggleDetail('d3-1'); toggleCheck('s3-1')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">06â€“08</div>
        <div class="step-content">
          <div class="step-title">Verify Settings &amp; Sync Time</div>
          <div class="step-body">Check scan density = Medium, Image = LDR, then sync time.</div>
        </div>
      </div>
      <div class="step-detail" id="d3-1">
        <ul class="sub-list">
          <li>BLK Capture settings: Scan Density = <strong>Medium</strong>, Image = <strong>LDR</strong></li>
          <li>Click <strong>Sync Time</strong></li>
          <li>Write down the <strong>setup number</strong> and <strong>time stamp</strong> for each scan</li>
          <li>Add Setup Number from file loader to top of Data Sheet by matching time stamps</li>
        </ul>
        <textarea class="notes-box" placeholder="Setup number / timestamp notes..."></textarea>
      </div>
    </div>

    <div class="step-card" id="s3-2">
      <div class="step-header" onclick="toggleDetail('d3-2'); toggleCheck('s3-2')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">09â€“13</div>
        <div class="step-content">
          <div class="step-title">Download &amp; Rename Files</div>
          <div class="step-body">Save to LiDARâ–¶Fuels folder. Rename with ReFoDi naming convention.</div>
        </div>
      </div>
      <div class="step-detail" id="d3-2">
        <ul class="sub-list">
          <li>Select files to download â†’ click Download</li>
          <li>Save to folder: <strong>LiDAR â†’ Fuels</strong></li>
          <li>These are large files â€” download may take a while, be patient</li>
          <li>Copy data sheet â†’ put originals in LiDAR folder with laptop</li>
          <li>Rename files with setup/plot number associations from steps 7/8</li>
        </ul>
        <div class="section-divider"><span>Naming Convention</span><div class="divider-line"></div></div>
        <ul class="sub-list">
          <li>Format: <strong style="color:var(--blue); font-family:'Space Mono',monospace;">ReFoDiXXXXMMYY</strong></li>
          <li>Region Â· Forest Â· District codes + XXXX = plot number + MMYY = month/year</li>
          <li>Example: <strong style="color:var(--blue); font-family:'Space Mono',monospace;">03050300011021</strong></li>
        </ul>
      </div>
    </div>

    <div class="step-card" id="s3-3">
      <div class="step-header" onclick="toggleDetail('d3-3'); toggleCheck('s3-3')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">14â€“28</div>
        <div class="step-content">
          <div class="step-title">Process in Cyclone REGISTER 360 (BLK Edition)</div>
          <div class="step-body">Import, verify 360Â° view, finalize, and publish as PTX.</div>
        </div>
      </div>
      <div class="step-detail" id="d3-3">
        <ul class="sub-list">
          <li>Open <strong>Cyclone REGISTER 360 (BLK Edition)</strong></li>
          <li>Create New Project â€” use same ID# as plot from step 13</li>
          <li>Drag files from file explorer into import window â†’ click <strong>Import</strong></li>
          <li>In <strong>Review &amp; Optimize</strong> tab: verify 360Â° view in "Setup Cloud" or "ThruSlicer"</li>
          <li>Go to <strong>Finalize</strong> tab â†’ Accept finalization <strong>TWICE</strong></li>
          <li>In <strong>Report</strong> tab â†’ Properties â†’ Publish Options â†’ select <strong>PTX (as one file)</strong></li>
          <li>Click <strong>Publish</strong></li>
          <li>Save to folder â€” remove extra "1" at end of filename before saving</li>
          <li>When "Publish Results" popup appears â†’ click <strong>OK</strong></li>
          <li>For next file: click File Folder Icon (top left) â†’ repeat from Create New Project</li>
        </ul>
      </div>
    </div>

    <div class="step-card danger" id="s3-4">
      <div class="step-header" onclick="toggleDetail('d3-4'); toggleCheck('s3-4')">
        <div class="step-checkbox"><span class="checkmark">âœ“</span></div>
        <div class="step-num">29â€“35</div>
        <div class="step-content">
          <div class="step-title">Delete from Laser &amp; Power Down <span class="badge badge-danger">Important</span></div>
          <div class="step-body">Delete all files from laser, disconnect, power down, remove battery.</div>
        </div>
      </div>
      <div class="step-detail" id="d3-4">
        <ul class="sub-list">
          <li>Once all files are uploaded â†’ go back to <strong>BLK Data Manager</strong></li>
          <li>Select all files â†’ click <strong>Delete</strong> (bottom left corner)</li>
          <li>Confirm: <strong>Yes</strong>, delete files from laser</li>
          <li>Disconnect from the laser in BLK Data Manager</li>
          <li>Power laser down and <strong>wait until it stops flashing</strong> before removing battery</li>
          <li>Remove battery â†’ put on charger</li>
          <li>Pack laser in field bag and restock data sheets as needed</li>
        </ul>
      </div>
    </div>

    <div class="spacer"></div>
  </div><!-- /phase-3 -->

</div><!-- /main -->

<!-- Footer nav -->
<div class="nav-footer">
  <button class="nav-btn nav-prev" id="prevBtn" onclick="prevPhase()" disabled>â† Back</button>
  <button class="nav-btn nav-next" id="nextBtn" onclick="nextPhase()">Next Phase â†’</button>
</div>

<script>
  let currentPhase = 0;
  const totalPhases = 4;
  let timerInterval = null;
  let timerSeconds = 0;
  let timerRunning = false;

  const totalSteps = document.querySelectorAll('.step-card').length;

  function goToPhase(n) {
    document.querySelectorAll('.phase-content').forEach(el => el.style.display = 'none');
    document.getElementById('phase-' + n).style.display = 'block';
    document.querySelectorAll('.phase-btn').forEach((btn, i) => {
      btn.classList.toggle('active', i === n);
    });
    currentPhase = n;
    document.getElementById('prevBtn').disabled = n === 0;
    document.getElementById('nextBtn').disabled = n === totalPhases - 1;
    document.getElementById('headerPhase').textContent = 'Phase ' + (n + 1) + ' of ' + totalPhases;
    window.scrollTo(0, 0);
  }

  function nextPhase() { if (currentPhase < totalPhases - 1) goToPhase(currentPhase + 1); }
  function prevPhase() { if (currentPhase > 0) goToPhase(currentPhase - 1); }

  function toggleDetail(id) {
    const el = document.getElementById(id);
    if (el) el.classList.toggle('open');
  }

  function toggleCheck(cardId) {
    const card = document.getElementById(cardId);
    if (card) { card.classList.toggle('completed'); updateProgress(); }
  }

  function toggleGear(el) {
    el.classList.toggle('checked');
    const check = el.querySelector('.gear-check');
    check.textContent = el.classList.contains('checked') ? 'âœ“' : '';
  }

  function updateProgress() {
    const completed = document.querySelectorAll('.step-card.completed').length;
    const pct = Math.round((completed / totalSteps) * 100);
    document.getElementById('progressFill').style.width = pct + '%';
    document.getElementById('progressPct').textContent = pct + '%';

    const phases = [
      ['s0-0','s0-1','s0-2'],
      ['s1-0','s1-1','s1-2','s1-3','s1-4','s1-5','s1-6','s1-7','s1-8'],
      ['s2-0','s2-1','s2-2','s2-3','s2-4'],
      ['s3-0','s3-1','s3-2','s3-3','s3-4']
    ];
    phases.forEach((ids, i) => {
      const allDone = ids.every(id => {
        const el = document.getElementById(id);
        return el && el.classList.contains('completed');
      });
      const btn = document.querySelectorAll('.phase-btn')[i];
      if (allDone) btn.classList.add('completed');
      else btn.classList.remove('completed');
    });
  }

  function startTimer() {
    if (!timerRunning) {
      timerRunning = true;
      document.getElementById('timerBtn').textContent = 'Pause';
      timerInterval = setInterval(() => {
        timerSeconds++;
        updateTimerDisplay();
        if (timerSeconds === 150) {
          // At 2:30 â€” turn green to signal "minimum reached"
          document.getElementById('timerDisplay').style.color = 'var(--green-text)';
        }
      }, 1000);
    } else {
      timerRunning = false;
      document.getElementById('timerBtn').textContent = 'Resume';
      clearInterval(timerInterval);
    }
  }

  function resetTimer() {
    clearInterval(timerInterval);
    timerRunning = false;
    timerSeconds = 0;
    document.getElementById('timerBtn').textContent = 'Start';
    document.getElementById('timerDisplay').textContent = '00:00';
    document.getElementById('timerDisplay').style.color = 'var(--amber-text)';
  }

  function updateTimerDisplay() {
    const m = Math.floor(timerSeconds / 60).toString().padStart(2, '0');
    const s = (timerSeconds % 60).toString().padStart(2, '0');
    document.getElementById('timerDisplay').textContent = m + ':' + s;
  }
</script>
</body>
</html>
